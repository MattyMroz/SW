#ifdefined(__ICCARM__)#pragmasystem_include#elifdefined(__clang__)#pragmaclangsystem_header#endif#ifndefARM_MPU_ARMV7_H#defineARM_MPU_ARMV7_H#defineARM_MPU_REGION_SIZE_32B((uint8_t)0x04U)#defineARM_MPU_REGION_SIZE_64B((uint8_t)0x05U)#defineARM_MPU_REGION_SIZE_128B((uint8_t)0x06U)#defineARM_MPU_REGION_SIZE_256B((uint8_t)0x07U)#defineARM_MPU_REGION_SIZE_512B((uint8_t)0x08U)#defineARM_MPU_REGION_SIZE_1KB((uint8_t)0x09U)#defineARM_MPU_REGION_SIZE_2KB((uint8_t)0x0AU)#defineARM_MPU_REGION_SIZE_4KB((uint8_t)0x0BU)#defineARM_MPU_REGION_SIZE_8KB((uint8_t)0x0CU)#defineARM_MPU_REGION_SIZE_16KB((uint8_t)0x0DU)#defineARM_MPU_REGION_SIZE_32KB((uint8_t)0x0EU)#defineARM_MPU_REGION_SIZE_64KB((uint8_t)0x0FU)#defineARM_MPU_REGION_SIZE_128KB((uint8_t)0x10U)#defineARM_MPU_REGION_SIZE_256KB((uint8_t)0x11U)#defineARM_MPU_REGION_SIZE_512KB((uint8_t)0x12U)#defineARM_MPU_REGION_SIZE_1MB((uint8_t)0x13U)#defineARM_MPU_REGION_SIZE_2MB((uint8_t)0x14U)#defineARM_MPU_REGION_SIZE_4MB((uint8_t)0x15U)#defineARM_MPU_REGION_SIZE_8MB((uint8_t)0x16U)#defineARM_MPU_REGION_SIZE_16MB((uint8_t)0x17U)#defineARM_MPU_REGION_SIZE_32MB((uint8_t)0x18U)#defineARM_MPU_REGION_SIZE_64MB((uint8_t)0x19U)#defineARM_MPU_REGION_SIZE_128MB((uint8_t)0x1AU)#defineARM_MPU_REGION_SIZE_256MB((uint8_t)0x1BU)#defineARM_MPU_REGION_SIZE_512MB((uint8_t)0x1CU)#defineARM_MPU_REGION_SIZE_1GB((uint8_t)0x1DU)#defineARM_MPU_REGION_SIZE_2GB((uint8_t)0x1EU)#defineARM_MPU_REGION_SIZE_4GB((uint8_t)0x1FU)#defineARM_MPU_AP_NONE0U#defineARM_MPU_AP_PRIV1U#defineARM_MPU_AP_URO2U#defineARM_MPU_AP_FULL3U#defineARM_MPU_AP_PRO5U#defineARM_MPU_AP_RO6U#defineARM_MPU_RBAR(Region,BaseAddress)\(((BaseAddress)&MPU_RBAR_ADDR_Msk)|\((Region)&MPU_RBAR_REGION_Msk)|\(MPU_RBAR_VALID_Msk))#defineARM_MPU_ACCESS_(TypeExtField,IsShareable,IsCacheable,IsBufferable)\((((TypeExtField)<<MPU_RASR_TEX_Pos)&MPU_RASR_TEX_Msk)|\(((IsShareable)<<MPU_RASR_S_Pos)&MPU_RASR_S_Msk)|\(((IsCacheable)<<MPU_RASR_C_Pos)&MPU_RASR_C_Msk)|\(((IsBufferable)<<MPU_RASR_B_Pos)&MPU_RASR_B_Msk))#defineARM_MPU_RASR_EX(DisableExec,AccessPermission,AccessAttributes,SubRegionDisable,Size)\((((DisableExec)<<MPU_RASR_XN_Pos)&MPU_RASR_XN_Msk)|\(((AccessPermission)<<MPU_RASR_AP_Pos)&MPU_RASR_AP_Msk)|\(((AccessAttributes)&(MPU_RASR_TEX_Msk|MPU_RASR_S_Msk|MPU_RASR_C_Msk|MPU_RASR_B_Msk)))|\(((SubRegionDisable)<<MPU_RASR_SRD_Pos)&MPU_RASR_SRD_Msk)|\(((Size)<<MPU_RASR_SIZE_Pos)&MPU_RASR_SIZE_Msk)|\(((MPU_RASR_ENABLE_Msk))))#defineARM_MPU_RASR(DisableExec,AccessPermission,TypeExtField,IsShareable,IsCacheable,IsBufferable,SubRegionDisable,Size)\ARM_MPU_RASR_EX(DisableExec,AccessPermission,ARM_MPU_ACCESS_(TypeExtField,IsShareable,IsCacheable,IsBufferable),SubRegionDisable,Size)#defineARM_MPU_ACCESS_ORDEREDARM_MPU_ACCESS_(0U,1U,0U,0U)#defineARM_MPU_ACCESS_DEVICE(IsShareable)((IsShareable)?ARM_MPU_ACCESS_(0U,1U,0U,1U):ARM_MPU_ACCESS_(2U,0U,0U,0U))#defineARM_MPU_ACCESS_NORMAL(OuterCp,InnerCp,IsShareable)ARM_MPU_ACCESS_((4U|(OuterCp)),IsShareable,((InnerCp)&2U),((InnerCp)&1U))#defineARM_MPU_CACHEP_NOCACHE0U#defineARM_MPU_CACHEP_WB_WRA1U#defineARM_MPU_CACHEP_WT_NWA2U#defineARM_MPU_CACHEP_WB_NWA3Utypedefstruct{uint32_tRBAR;uint32_tRASR;}ARM_MPU_Region_t;__STATIC_INLINEvoidARM_MPU_Enable(uint32_tMPU_Control){MPU->CTRL=MPU_Control|MPU_CTRL_ENABLE_Msk;#ifdefSCB_SHCSR_MEMFAULTENA_MskSCB->SHCSR|=SCB_SHCSR_MEMFAULTENA_Msk;#endif__DSB();__ISB();}__STATIC_INLINEvoidARM_MPU_Disable(void){__DMB();#ifdefSCB_SHCSR_MEMFAULTENA_MskSCB->SHCSR&=~SCB_SHCSR_MEMFAULTENA_Msk;#endifMPU->CTRL&=~MPU_CTRL_ENABLE_Msk;}__STATIC_INLINEvoidARM_MPU_ClrRegion(uint32_trnr){MPU->RNR=rnr;MPU->RASR=0U;}__STATIC_INLINEvoidARM_MPU_SetRegion(uint32_trbar,uint32_trasr){MPU->RBAR=rbar;MPU->RASR=rasr;}__STATIC_INLINEvoidARM_MPU_SetRegionEx(uint32_trnr,uint32_trbar,uint32_trasr){MPU->RNR=rnr;MPU->RBAR=rbar;MPU->RASR=rasr;}__STATIC_INLINEvoidARM_MPU_OrderedMemcpy(volatileuint32_t*dst,constuint32_t*__RESTRICTsrc,uint32_tlen){uint32_ti;for(i=0U;i<len;++i){dst[i]=src[i];}}__STATIC_INLINEvoidARM_MPU_Load(ARM_MPU_Region_tconst*table,uint32_tcnt){constuint32_trowWordSize=sizeof(ARM_MPU_Region_t)/4U;while(cnt>MPU_TYPE_RALIASES){ARM_MPU_OrderedMemcpy(&(MPU->RBAR),&(table->RBAR),MPU_TYPE_RALIASES*rowWordSize);table+=MPU_TYPE_RALIASES;cnt-=MPU_TYPE_RALIASES;}ARM_MPU_OrderedMemcpy(&(MPU->RBAR),&(table->RBAR),cnt*rowWordSize);}#endif