#ifndefSTM32L4xx_HAL_FLASH_H#defineSTM32L4xx_HAL_FLASH_H#ifdef__cplusplusextern"C"{#endif#include"stm32l4xx_hal_def.h"typedefstruct{uint32_tTypeErase;uint32_tBanks;uint32_tPage;uint32_tNbPages;}FLASH_EraseInitTypeDef;typedefstruct{uint32_tOptionType;uint32_tWRPArea;uint32_tWRPStartOffset;uint32_tWRPEndOffset;uint32_tRDPLevel;uint32_tUSERType;uint32_tUSERConfig;uint32_tPCROPConfig;uint32_tPCROPStartAddr;uint32_tPCROPEndAddr;}FLASH_OBProgramInitTypeDef;typedefenum{FLASH_PROC_NONE=0,FLASH_PROC_PAGE_ERASE,FLASH_PROC_MASS_ERASE,FLASH_PROC_PROGRAM,FLASH_PROC_PROGRAM_LAST}FLASH_ProcedureTypeDef;typedefenum{FLASH_CACHE_DISABLED=0,FLASH_CACHE_ICACHE_ENABLED,FLASH_CACHE_DCACHE_ENABLED,FLASH_CACHE_ICACHE_DCACHE_ENABLED}FLASH_CacheTypeDef;typedefstruct{HAL_LockTypeDefLock;__IOuint32_tErrorCode;__IOFLASH_ProcedureTypeDefProcedureOnGoing;__IOuint32_tAddress;__IOuint32_tBank;__IOuint32_tPage;__IOuint32_tNbPagesToErase;__IOFLASH_CacheTypeDefCacheToReactivate;}FLASH_ProcessTypeDef;#defineHAL_FLASH_ERROR_NONE0x00000000U#defineHAL_FLASH_ERROR_OPFLASH_FLAG_OPERR#defineHAL_FLASH_ERROR_PROGFLASH_FLAG_PROGERR#defineHAL_FLASH_ERROR_WRPFLASH_FLAG_WRPERR#defineHAL_FLASH_ERROR_PGAFLASH_FLAG_PGAERR#defineHAL_FLASH_ERROR_SIZFLASH_FLAG_SIZERR#defineHAL_FLASH_ERROR_PGSFLASH_FLAG_PGSERR#defineHAL_FLASH_ERROR_MISFLASH_FLAG_MISERR#defineHAL_FLASH_ERROR_FASTFLASH_FLAG_FASTERR#defineHAL_FLASH_ERROR_RDFLASH_FLAG_RDERR#defineHAL_FLASH_ERROR_OPTVFLASH_FLAG_OPTVERR#defineHAL_FLASH_ERROR_ECCCFLASH_FLAG_ECCC#defineHAL_FLASH_ERROR_ECCDFLASH_FLAG_ECCD#ifdefined(STM32L412xx)||defined(STM32L422xx)||defined(STM32L431xx)||defined(STM32L432xx)||defined(STM32L433xx)||defined(STM32L442xx)||\defined(STM32L443xx)||defined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)||defined(STM32L496xx)||defined(STM32L4A6xx)||\defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||\defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineHAL_FLASH_ERROR_PEMPTYFLASH_FLAG_PEMPTY#endif#defineFLASH_TYPEERASE_PAGES((uint32_t)0x00)#defineFLASH_TYPEERASE_MASSERASE((uint32_t)0x01)#defineFLASH_BANK_1((uint32_t)0x01)#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_BANK_2((uint32_t)0x02)#defineFLASH_BANK_BOTH((uint32_t)(FLASH_BANK_1|FLASH_BANK_2))#else#defineFLASH_BANK_BOTH((uint32_t)(FLASH_BANK_1))#endif#defineFLASH_TYPEPROGRAM_DOUBLEWORD((uint32_t)0x00)#defineFLASH_TYPEPROGRAM_FAST((uint32_t)0x01)#defineFLASH_TYPEPROGRAM_FAST_AND_LAST((uint32_t)0x02)#defineOPTIONBYTE_WRP((uint32_t)0x01)#defineOPTIONBYTE_RDP((uint32_t)0x02)#defineOPTIONBYTE_USER((uint32_t)0x04)#defineOPTIONBYTE_PCROP((uint32_t)0x08)#defineOB_WRPAREA_BANK1_AREAA((uint32_t)0x00)#defineOB_WRPAREA_BANK1_AREAB((uint32_t)0x01)#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_WRPAREA_BANK2_AREAA((uint32_t)0x02)#defineOB_WRPAREA_BANK2_AREAB((uint32_t)0x04)#endif#defineOB_RDP_LEVEL_0((uint32_t)0xAA)#defineOB_RDP_LEVEL_1((uint32_t)0xBB)#defineOB_RDP_LEVEL_2((uint32_t)0xCC)#defineOB_USER_BOR_LEV((uint32_t)0x0001)#defineOB_USER_nRST_STOP((uint32_t)0x0002)#defineOB_USER_nRST_STDBY((uint32_t)0x0004)#defineOB_USER_IWDG_SW((uint32_t)0x0008)#defineOB_USER_IWDG_STOP((uint32_t)0x0010)#defineOB_USER_IWDG_STDBY((uint32_t)0x0020)#defineOB_USER_WWDG_SW((uint32_t)0x0040)#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_USER_BFB2((uint32_t)0x0080)#ifdefined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_USER_DUALBANK((uint32_t)0x0100)#else#defineOB_USER_DUALBANK((uint32_t)0x0100)#endif#endif#defineOB_USER_nBOOT1((uint32_t)0x0200)#defineOB_USER_SRAM2_PE((uint32_t)0x0400)#defineOB_USER_SRAM2_RST((uint32_t)0x0800)#defineOB_USER_nRST_SHDW((uint32_t)0x1000)#ifdefined(STM32L412xx)||defined(STM32L422xx)||defined(STM32L431xx)||defined(STM32L432xx)||defined(STM32L433xx)||\defined(STM32L442xx)||defined(STM32L443xx)||defined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_USER_nSWBOOT0((uint32_t)0x2000)#defineOB_USER_nBOOT0((uint32_t)0x4000)#endif#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_USER_DBANK((uint32_t)0x8000)#endif#defineOB_BOR_LEVEL_0((uint32_t)FLASH_OPTR_BOR_LEV_0)#defineOB_BOR_LEVEL_1((uint32_t)FLASH_OPTR_BOR_LEV_1)#defineOB_BOR_LEVEL_2((uint32_t)FLASH_OPTR_BOR_LEV_2)#defineOB_BOR_LEVEL_3((uint32_t)FLASH_OPTR_BOR_LEV_3)#defineOB_BOR_LEVEL_4((uint32_t)FLASH_OPTR_BOR_LEV_4)#defineOB_STOP_RST((uint32_t)0x0000)#defineOB_STOP_NORST((uint32_t)FLASH_OPTR_nRST_STOP)#defineOB_STANDBY_RST((uint32_t)0x0000)#defineOB_STANDBY_NORST((uint32_t)FLASH_OPTR_nRST_STDBY)#defineOB_SHUTDOWN_RST((uint32_t)0x0000)#defineOB_SHUTDOWN_NORST((uint32_t)FLASH_OPTR_nRST_SHDW)#defineOB_IWDG_HW((uint32_t)0x00000)#defineOB_IWDG_SW((uint32_t)FLASH_OPTR_IWDG_SW)#defineOB_IWDG_STOP_FREEZE((uint32_t)0x00000)#defineOB_IWDG_STOP_RUN((uint32_t)FLASH_OPTR_IWDG_STOP)#defineOB_IWDG_STDBY_FREEZE((uint32_t)0x00000)#defineOB_IWDG_STDBY_RUN((uint32_t)FLASH_OPTR_IWDG_STDBY)#defineOB_WWDG_HW((uint32_t)0x00000)#defineOB_WWDG_SW((uint32_t)FLASH_OPTR_WWDG_SW)#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_BFB2_DISABLE((uint32_t)0x000000)#defineOB_BFB2_ENABLE((uint32_t)FLASH_OPTR_BFB2)#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_DUALBANK_SINGLE((uint32_t)0x000000)#defineOB_DUALBANK_DUAL((uint32_t)FLASH_OPTR_DB1M)#else#defineOB_DUALBANK_SINGLE((uint32_t)0x000000)#defineOB_DUALBANK_DUAL((uint32_t)FLASH_OPTR_DUALBANK)#endif#endif#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_DBANK_128_BITS((uint32_t)0x000000)#defineOB_DBANK_64_BITS((uint32_t)FLASH_OPTR_DBANK)#endif#defineOB_BOOT1_SRAM((uint32_t)0x000000)#defineOB_BOOT1_SYSTEM((uint32_t)FLASH_OPTR_nBOOT1)#defineOB_SRAM2_PARITY_ENABLE((uint32_t)0x0000000)#defineOB_SRAM2_PARITY_DISABLE((uint32_t)FLASH_OPTR_SRAM2_PE)#defineOB_SRAM2_RST_ERASE((uint32_t)0x0000000)#defineOB_SRAM2_RST_NOT_ERASE((uint32_t)FLASH_OPTR_SRAM2_RST)#ifdefined(STM32L412xx)||defined(STM32L422xx)||defined(STM32L431xx)||defined(STM32L432xx)||defined(STM32L433xx)||\defined(STM32L442xx)||defined(STM32L443xx)||defined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineOB_BOOT0_FROM_OB((uint32_t)0x0000000)#defineOB_BOOT0_FROM_PIN((uint32_t)FLASH_OPTR_nSWBOOT0)#defineOB_BOOT0_RESET((uint32_t)0x0000000)#defineOB_BOOT0_SET((uint32_t)FLASH_OPTR_nBOOT0)#endif#defineOB_PCROP_RDP_NOT_ERASE((uint32_t)0x00000000)#defineOB_PCROP_RDP_ERASE((uint32_t)FLASH_PCROP1ER_PCROP_RDP)#defineFLASH_LATENCY_0FLASH_ACR_LATENCY_0WS#defineFLASH_LATENCY_1FLASH_ACR_LATENCY_1WS#defineFLASH_LATENCY_2FLASH_ACR_LATENCY_2WS#defineFLASH_LATENCY_3FLASH_ACR_LATENCY_3WS#defineFLASH_LATENCY_4FLASH_ACR_LATENCY_4WS#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_LATENCY_5FLASH_ACR_LATENCY_5WS#defineFLASH_LATENCY_6FLASH_ACR_LATENCY_6WS#defineFLASH_LATENCY_7FLASH_ACR_LATENCY_7WS#defineFLASH_LATENCY_8FLASH_ACR_LATENCY_8WS#defineFLASH_LATENCY_9FLASH_ACR_LATENCY_9WS#defineFLASH_LATENCY_10FLASH_ACR_LATENCY_10WS#defineFLASH_LATENCY_11FLASH_ACR_LATENCY_11WS#defineFLASH_LATENCY_12FLASH_ACR_LATENCY_12WS#defineFLASH_LATENCY_13FLASH_ACR_LATENCY_13WS#defineFLASH_LATENCY_14FLASH_ACR_LATENCY_14WS#defineFLASH_LATENCY_15FLASH_ACR_LATENCY_15WS#endif#defineFLASH_KEY10x45670123U#defineFLASH_KEY20xCDEF89ABU#defineFLASH_PDKEY10x04152637U#defineFLASH_PDKEY20xFAFBFCFDU#defineFLASH_OPTKEY10x08192A3BU#defineFLASH_OPTKEY20x4C5D6E7FU#defineFLASH_FLAG_EOPFLASH_SR_EOP#defineFLASH_FLAG_OPERRFLASH_SR_OPERR#defineFLASH_FLAG_PROGERRFLASH_SR_PROGERR#defineFLASH_FLAG_WRPERRFLASH_SR_WRPERR#defineFLASH_FLAG_PGAERRFLASH_SR_PGAERR#defineFLASH_FLAG_SIZERRFLASH_SR_SIZERR#defineFLASH_FLAG_PGSERRFLASH_SR_PGSERR#defineFLASH_FLAG_MISERRFLASH_SR_MISERR#defineFLASH_FLAG_FASTERRFLASH_SR_FASTERR#defineFLASH_FLAG_RDERRFLASH_SR_RDERR#defineFLASH_FLAG_OPTVERRFLASH_SR_OPTVERR#defineFLASH_FLAG_BSYFLASH_SR_BSY#ifdefined(STM32L412xx)||defined(STM32L422xx)||defined(STM32L431xx)||defined(STM32L432xx)||defined(STM32L433xx)||defined(STM32L442xx)||\defined(STM32L443xx)||defined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)||\defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||\defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_FLAG_PEMPTYFLASH_SR_PEMPTY#defineFLASH_FLAG_SR_ERRORS(FLASH_FLAG_OPERR|FLASH_FLAG_PROGERR|FLASH_FLAG_WRPERR|\FLASH_FLAG_PGAERR|FLASH_FLAG_SIZERR|FLASH_FLAG_PGSERR|\FLASH_FLAG_MISERR|FLASH_FLAG_FASTERR|FLASH_FLAG_RDERR|\FLASH_FLAG_OPTVERR|FLASH_FLAG_PEMPTY)#else#defineFLASH_FLAG_SR_ERRORS(FLASH_FLAG_OPERR|FLASH_FLAG_PROGERR|FLASH_FLAG_WRPERR|\FLASH_FLAG_PGAERR|FLASH_FLAG_SIZERR|FLASH_FLAG_PGSERR|\FLASH_FLAG_MISERR|FLASH_FLAG_FASTERR|FLASH_FLAG_RDERR|\FLASH_FLAG_OPTVERR)#endif#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||\defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_FLAG_ECCC(FLASH_ECCR_ECCC|FLASH_ECCR_ECCC2)#defineFLASH_FLAG_ECCD(FLASH_ECCR_ECCD|FLASH_ECCR_ECCD2)#else#defineFLASH_FLAG_ECCCFLASH_ECCR_ECCC#defineFLASH_FLAG_ECCDFLASH_ECCR_ECCD#endif#defineFLASH_FLAG_ECCR_ERRORS(FLASH_FLAG_ECCD|FLASH_FLAG_ECCC)#defineFLASH_FLAG_ALL_ERRORS(FLASH_FLAG_OPERR|FLASH_FLAG_PROGERR|FLASH_FLAG_WRPERR|\FLASH_FLAG_PGAERR|FLASH_FLAG_SIZERR|FLASH_FLAG_PGSERR|\FLASH_FLAG_MISERR|FLASH_FLAG_FASTERR|FLASH_FLAG_RDERR|\FLASH_FLAG_OPTVERR|FLASH_FLAG_ECCR_ERRORS)#defineFLASH_IT_EOPFLASH_CR_EOPIE#defineFLASH_IT_OPERRFLASH_CR_ERRIE#defineFLASH_IT_RDERRFLASH_CR_RDERRIE#defineFLASH_IT_ECCC(FLASH_ECCR_ECCIE>>24)#define__HAL_FLASH_SET_LATENCY(__LATENCY__)(MODIFY_REG(FLASH->ACR,FLASH_ACR_LATENCY,(__LATENCY__)))#define__HAL_FLASH_GET_LATENCY()READ_BIT(FLASH->ACR,FLASH_ACR_LATENCY)#define__HAL_FLASH_PREFETCH_BUFFER_ENABLE()SET_BIT(FLASH->ACR,FLASH_ACR_PRFTEN)#define__HAL_FLASH_PREFETCH_BUFFER_DISABLE()CLEAR_BIT(FLASH->ACR,FLASH_ACR_PRFTEN)#define__HAL_FLASH_INSTRUCTION_CACHE_ENABLE()SET_BIT(FLASH->ACR,FLASH_ACR_ICEN)#define__HAL_FLASH_INSTRUCTION_CACHE_DISABLE()CLEAR_BIT(FLASH->ACR,FLASH_ACR_ICEN)#define__HAL_FLASH_DATA_CACHE_ENABLE()SET_BIT(FLASH->ACR,FLASH_ACR_DCEN)#define__HAL_FLASH_DATA_CACHE_DISABLE()CLEAR_BIT(FLASH->ACR,FLASH_ACR_DCEN)#define__HAL_FLASH_INSTRUCTION_CACHE_RESET()do{SET_BIT(FLASH->ACR,FLASH_ACR_ICRST);\CLEAR_BIT(FLASH->ACR,FLASH_ACR_ICRST);\}while(0)#define__HAL_FLASH_DATA_CACHE_RESET()do{SET_BIT(FLASH->ACR,FLASH_ACR_DCRST);\CLEAR_BIT(FLASH->ACR,FLASH_ACR_DCRST);\}while(0)#define__HAL_FLASH_POWER_DOWN_ENABLE()do{WRITE_REG(FLASH->PDKEYR,FLASH_PDKEY1);\WRITE_REG(FLASH->PDKEYR,FLASH_PDKEY2);\SET_BIT(FLASH->ACR,FLASH_ACR_RUN_PD);\}while(0)#define__HAL_FLASH_POWER_DOWN_DISABLE()do{WRITE_REG(FLASH->PDKEYR,FLASH_PDKEY1);\WRITE_REG(FLASH->PDKEYR,FLASH_PDKEY2);\CLEAR_BIT(FLASH->ACR,FLASH_ACR_RUN_PD);\}while(0)#define__HAL_FLASH_SLEEP_POWERDOWN_ENABLE()SET_BIT(FLASH->ACR,FLASH_ACR_SLEEP_PD)#define__HAL_FLASH_SLEEP_POWERDOWN_DISABLE()CLEAR_BIT(FLASH->ACR,FLASH_ACR_SLEEP_PD)#define__HAL_FLASH_ENABLE_IT(__INTERRUPT__)do{if(((__INTERRUPT__)&FLASH_IT_ECCC)!=0U){SET_BIT(FLASH->ECCR,FLASH_ECCR_ECCIE);}\if(((__INTERRUPT__)&(~FLASH_IT_ECCC))!=0U){SET_BIT(FLASH->CR,((__INTERRUPT__)&(~FLASH_IT_ECCC)));}\}while(0)#define__HAL_FLASH_DISABLE_IT(__INTERRUPT__)do{if(((__INTERRUPT__)&FLASH_IT_ECCC)!=0U){CLEAR_BIT(FLASH->ECCR,FLASH_ECCR_ECCIE);}\if(((__INTERRUPT__)&(~FLASH_IT_ECCC))!=0U){CLEAR_BIT(FLASH->CR,((__INTERRUPT__)&(~FLASH_IT_ECCC)));}\}while(0)#define__HAL_FLASH_GET_FLAG(__FLAG__)((((__FLAG__)&FLASH_FLAG_ECCR_ERRORS)!=0U)?\(READ_BIT(FLASH->ECCR,(__FLAG__))!=0U):\(READ_BIT(FLASH->SR,(__FLAG__))!=0U))#define__HAL_FLASH_CLEAR_FLAG(__FLAG__)do{if(((__FLAG__)&FLASH_FLAG_ECCR_ERRORS)!=0U){SET_BIT(FLASH->ECCR,((__FLAG__)&FLASH_FLAG_ECCR_ERRORS));}\if(((__FLAG__)&~(FLASH_FLAG_ECCR_ERRORS))!=0U){WRITE_REG(FLASH->SR,((__FLAG__)&~(FLASH_FLAG_ECCR_ERRORS)));}\}while(0)#include"stm32l4xx_hal_flash_ex.h"#include"stm32l4xx_hal_flash_ramfunc.h"HAL_StatusTypeDefHAL_FLASH_Program(uint32_tTypeProgram,uint32_tAddress,uint64_tData);HAL_StatusTypeDefHAL_FLASH_Program_IT(uint32_tTypeProgram,uint32_tAddress,uint64_tData);voidHAL_FLASH_IRQHandler(void);voidHAL_FLASH_EndOfOperationCallback(uint32_tReturnValue);voidHAL_FLASH_OperationErrorCallback(uint32_tReturnValue);HAL_StatusTypeDefHAL_FLASH_Unlock(void);HAL_StatusTypeDefHAL_FLASH_Lock(void);HAL_StatusTypeDefHAL_FLASH_OB_Unlock(void);HAL_StatusTypeDefHAL_FLASH_OB_Lock(void);HAL_StatusTypeDefHAL_FLASH_OB_Launch(void);uint32_tHAL_FLASH_GetError(void);externFLASH_ProcessTypeDefpFlash;HAL_StatusTypeDefFLASH_WaitForLastOperation(uint32_tTimeout);#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_BANK_SIZE(FLASH_SIZE>>1U)#else#defineFLASH_BANK_SIZE(FLASH_SIZE)#endif#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineFLASH_PAGE_SIZE((uint32_t)0x1000)#defineFLASH_PAGE_SIZE_128_BITS((uint32_t)0x2000)#else#defineFLASH_PAGE_SIZE((uint32_t)0x800)#endif#defineFLASH_TIMEOUT_VALUE((uint32_t)50000)#defineIS_FLASH_TYPEERASE(VALUE)(((VALUE)==FLASH_TYPEERASE_PAGES)||\((VALUE)==FLASH_TYPEERASE_MASSERASE))#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_FLASH_BANK(BANK)(((BANK)==FLASH_BANK_1)||\((BANK)==FLASH_BANK_2)||\((BANK)==FLASH_BANK_BOTH))#defineIS_FLASH_BANK_EXCLUSIVE(BANK)(((BANK)==FLASH_BANK_1)||\((BANK)==FLASH_BANK_2))#else#defineIS_FLASH_BANK(BANK)((BANK)==FLASH_BANK_1)#defineIS_FLASH_BANK_EXCLUSIVE(BANK)((BANK)==FLASH_BANK_1)#endif#defineIS_FLASH_TYPEPROGRAM(VALUE)(((VALUE)==FLASH_TYPEPROGRAM_DOUBLEWORD)||\((VALUE)==FLASH_TYPEPROGRAM_FAST)||\((VALUE)==FLASH_TYPEPROGRAM_FAST_AND_LAST))#ifdefined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_FLASH_MAIN_MEM_ADDRESS(ADDRESS)(((ADDRESS)>=(FLASH_BASE))&&((ADDRESS)<=(FLASH_BASE+0x1FFFFFU)))#else#defineIS_FLASH_MAIN_MEM_ADDRESS(ADDRESS)(((ADDRESS)>=(FLASH_BASE))&&((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x400U)?\((ADDRESS)<=(FLASH_BASE+0xFFFFFU)):((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x200U)?\((ADDRESS)<=(FLASH_BASE+0x7FFFFU)):((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x100U)?\((ADDRESS)<=(FLASH_BASE+0x3FFFFU)):((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x80U)?\((ADDRESS)<=(FLASH_BASE+0x1FFFFU)):((ADDRESS)<=(FLASH_BASE+0xFFFFFU)))))))#endif#defineIS_FLASH_OTP_ADDRESS(ADDRESS)(((ADDRESS)>=0x1FFF7000U)&&((ADDRESS)<=0x1FFF73FFU))#defineIS_FLASH_PROGRAM_ADDRESS(ADDRESS)((IS_FLASH_MAIN_MEM_ADDRESS(ADDRESS))||(IS_FLASH_OTP_ADDRESS(ADDRESS)))#ifdefined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_FLASH_PAGE(PAGE)((PAGE)<256U)#elifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)#defineIS_FLASH_PAGE(PAGE)(((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x400U)?((PAGE)<256U):\((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x200U)?((PAGE)<128U):\((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x100U)?((PAGE)<64U):\((PAGE)<256U)))))#elifdefined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)#defineIS_FLASH_PAGE(PAGE)(((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x200U)?((PAGE)<256U):\((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x100U)?((PAGE)<128U):\((PAGE)<256U))))#else#defineIS_FLASH_PAGE(PAGE)(((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x100U)?((PAGE)<128U):\((((*((uint16_t*)FLASH_SIZE_DATA_REGISTER))&(0x0FFFU))==0x80U)?((PAGE)<64U):\((PAGE)<128U))))#endif#defineIS_OPTIONBYTE(VALUE)(((VALUE)<=(OPTIONBYTE_WRP|OPTIONBYTE_RDP|OPTIONBYTE_USER|OPTIONBYTE_PCROP)))#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_OB_WRPAREA(VALUE)(((VALUE)==OB_WRPAREA_BANK1_AREAA)||((VALUE)==OB_WRPAREA_BANK1_AREAB)||\((VALUE)==OB_WRPAREA_BANK2_AREAA)||((VALUE)==OB_WRPAREA_BANK2_AREAB))#else#defineIS_OB_WRPAREA(VALUE)(((VALUE)==OB_WRPAREA_BANK1_AREAA)||((VALUE)==OB_WRPAREA_BANK1_AREAB))#endif#defineIS_OB_RDP_LEVEL(LEVEL)(((LEVEL)==OB_RDP_LEVEL_0)||\((LEVEL)==OB_RDP_LEVEL_1))#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_OB_USER_TYPE(TYPE)(((TYPE)<=(uint32_t)0xFFFFU)&&((TYPE)!=0U))#elifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||defined(STM32L496xx)||defined(STM32L4A6xx)#defineIS_OB_USER_TYPE(TYPE)(((TYPE)<=(uint32_t)0x1FFFU)&&((TYPE)!=0U))#else#defineIS_OB_USER_TYPE(TYPE)(((TYPE)<=(uint32_t)0x7E7FU)&&((TYPE)!=0U)&&(((TYPE)&0x0180U)==0U))#endif#defineIS_OB_USER_BOR_LEVEL(LEVEL)(((LEVEL)==OB_BOR_LEVEL_0)||((LEVEL)==OB_BOR_LEVEL_1)||\((LEVEL)==OB_BOR_LEVEL_2)||((LEVEL)==OB_BOR_LEVEL_3)||\((LEVEL)==OB_BOR_LEVEL_4))#defineIS_OB_USER_STOP(VALUE)(((VALUE)==OB_STOP_RST)||((VALUE)==OB_STOP_NORST))#defineIS_OB_USER_STANDBY(VALUE)(((VALUE)==OB_STANDBY_RST)||((VALUE)==OB_STANDBY_NORST))#defineIS_OB_USER_SHUTDOWN(VALUE)(((VALUE)==OB_SHUTDOWN_RST)||((VALUE)==OB_SHUTDOWN_NORST))#defineIS_OB_USER_IWDG(VALUE)(((VALUE)==OB_IWDG_HW)||((VALUE)==OB_IWDG_SW))#defineIS_OB_USER_IWDG_STOP(VALUE)(((VALUE)==OB_IWDG_STOP_FREEZE)||((VALUE)==OB_IWDG_STOP_RUN))#defineIS_OB_USER_IWDG_STDBY(VALUE)(((VALUE)==OB_IWDG_STDBY_FREEZE)||((VALUE)==OB_IWDG_STDBY_RUN))#defineIS_OB_USER_WWDG(VALUE)(((VALUE)==OB_WWDG_HW)||((VALUE)==OB_WWDG_SW))#ifdefined(STM32L471xx)||defined(STM32L475xx)||defined(STM32L476xx)||defined(STM32L485xx)||defined(STM32L486xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_OB_USER_BFB2(VALUE)(((VALUE)==OB_BFB2_DISABLE)||((VALUE)==OB_BFB2_ENABLE))#defineIS_OB_USER_DUALBANK(VALUE)(((VALUE)==OB_DUALBANK_SINGLE)||((VALUE)==OB_DUALBANK_DUAL))#endif#ifdefined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_OB_USER_DBANK(VALUE)(((VALUE)==OB_DBANK_128_BITS)||((VALUE)==OB_DBANK_64_BITS))#endif#defineIS_OB_USER_BOOT1(VALUE)(((VALUE)==OB_BOOT1_SRAM)||((VALUE)==OB_BOOT1_SYSTEM))#defineIS_OB_USER_SRAM2_PARITY(VALUE)(((VALUE)==OB_SRAM2_PARITY_ENABLE)||((VALUE)==OB_SRAM2_PARITY_DISABLE))#defineIS_OB_USER_SRAM2_RST(VALUE)(((VALUE)==OB_SRAM2_RST_ERASE)||((VALUE)==OB_SRAM2_RST_NOT_ERASE))#ifdefined(STM32L412xx)||defined(STM32L422xx)||defined(STM32L431xx)||defined(STM32L432xx)||defined(STM32L433xx)||\defined(STM32L442xx)||defined(STM32L443xx)||defined(STM32L451xx)||defined(STM32L452xx)||defined(STM32L462xx)||\defined(STM32L496xx)||defined(STM32L4A6xx)||defined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||\defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_OB_USER_SWBOOT0(VALUE)(((VALUE)==OB_BOOT0_FROM_OB)||((VALUE)==OB_BOOT0_FROM_PIN))#defineIS_OB_USER_BOOT0(VALUE)(((VALUE)==OB_BOOT0_RESET)||((VALUE)==OB_BOOT0_SET))#endif#defineIS_OB_PCROP_RDP(VALUE)(((VALUE)==OB_PCROP_RDP_NOT_ERASE)||((VALUE)==OB_PCROP_RDP_ERASE))#ifdefined(STM32L4P5xx)||defined(STM32L4Q5xx)||defined(STM32L4R5xx)||defined(STM32L4R7xx)||defined(STM32L4R9xx)||defined(STM32L4S5xx)||defined(STM32L4S7xx)||defined(STM32L4S9xx)#defineIS_FLASH_LATENCY(LATENCY)(((LATENCY)==FLASH_LATENCY_0)||((LATENCY)==FLASH_LATENCY_1)||\((LATENCY)==FLASH_LATENCY_2)||((LATENCY)==FLASH_LATENCY_3)||\((LATENCY)==FLASH_LATENCY_4)||((LATENCY)==FLASH_LATENCY_5)||\((LATENCY)==FLASH_LATENCY_6)||((LATENCY)==FLASH_LATENCY_7)||\((LATENCY)==FLASH_LATENCY_8)||((LATENCY)==FLASH_LATENCY_9)||\((LATENCY)==FLASH_LATENCY_10)||((LATENCY)==FLASH_LATENCY_11)||\((LATENCY)==FLASH_LATENCY_12)||((LATENCY)==FLASH_LATENCY_13)||\((LATENCY)==FLASH_LATENCY_14)||((LATENCY)==FLASH_LATENCY_15))#else#defineIS_FLASH_LATENCY(LATENCY)(((LATENCY)==FLASH_LATENCY_0)||\((LATENCY)==FLASH_LATENCY_1)||\((LATENCY)==FLASH_LATENCY_2)||\((LATENCY)==FLASH_LATENCY_3)||\((LATENCY)==FLASH_LATENCY_4))#endif#ifdef__cplusplus}#endif#endif