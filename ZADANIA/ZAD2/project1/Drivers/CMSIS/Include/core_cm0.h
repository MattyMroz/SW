#ifdefined(__ICCARM__)#pragmasystem_include#elifdefined(__clang__)#pragmaclangsystem_header#endif#ifndef__CORE_CM0_H_GENERIC#define__CORE_CM0_H_GENERIC#include<stdint.h>#ifdef__cplusplusextern"C"{#endif#include"cmsis_version.h"#define__CM0_CMSIS_VERSION_MAIN(__CM_CMSIS_VERSION_MAIN)#define__CM0_CMSIS_VERSION_SUB(__CM_CMSIS_VERSION_SUB)#define__CM0_CMSIS_VERSION((__CM0_CMSIS_VERSION_MAIN<<16U)|\__CM0_CMSIS_VERSION_SUB)#define__CORTEX_M(0U)#define__FPU_USED0U#ifdefined(__CC_ARM)#ifdefined__TARGET_FPU_VFP#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION>=6010050)#ifdefined__ARM_FP#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__GNUC__)#ifdefined(__VFP_FP__)&&!defined(__SOFTFP__)#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__ICCARM__)#ifdefined__ARMVFP__#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__TI_ARM__)#ifdefined__TI_VFP_SUPPORT__#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__TASKING__)#ifdefined__FPU_VFP__#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#elifdefined(__CSMC__)#if(__CSMC__&0x400U)#error"CompilergeneratesFPUinstructionsforadevicewithoutanFPU(check__FPU_PRESENT)"#endif#endif#include"cmsis_compiler.h"#ifdef__cplusplus}#endif#endif#ifndef__CMSIS_GENERIC#ifndef__CORE_CM0_H_DEPENDANT#define__CORE_CM0_H_DEPENDANT#ifdef__cplusplusextern"C"{#endif#ifdefined__CHECK_DEVICE_DEFINES#ifndef__CM0_REV#define__CM0_REV0x0000U#warning"__CM0_REVnotdefinedindeviceheaderfile;usingdefault!"#endif#ifndef__NVIC_PRIO_BITS#define__NVIC_PRIO_BITS2U#warning"__NVIC_PRIO_BITSnotdefinedindeviceheaderfile;usingdefault!"#endif#ifndef__Vendor_SysTickConfig#define__Vendor_SysTickConfig0U#warning"__Vendor_SysTickConfignotdefinedindeviceheaderfile;usingdefault!"#endif#endif#ifdef__cplusplus#define__Ivolatile#else#define__Ivolatileconst#endif#define__Ovolatile#define__IOvolatile#define__IMvolatileconst#define__OMvolatile#define__IOMvolatiletypedefunion{struct{uint32_t_reserved0:28;uint32_tV:1;uint32_tC:1;uint32_tZ:1;uint32_tN:1;}b;uint32_tw;}APSR_Type;#defineAPSR_N_Pos31U#defineAPSR_N_Msk(1UL<<APSR_N_Pos)#defineAPSR_Z_Pos30U#defineAPSR_Z_Msk(1UL<<APSR_Z_Pos)#defineAPSR_C_Pos29U#defineAPSR_C_Msk(1UL<<APSR_C_Pos)#defineAPSR_V_Pos28U#defineAPSR_V_Msk(1UL<<APSR_V_Pos)typedefunion{struct{uint32_tISR:9;uint32_t_reserved0:23;}b;uint32_tw;}IPSR_Type;#defineIPSR_ISR_Pos0U#defineIPSR_ISR_Msk(0x1FFUL)typedefunion{struct{uint32_tISR:9;uint32_t_reserved0:15;uint32_tT:1;uint32_t_reserved1:3;uint32_tV:1;uint32_tC:1;uint32_tZ:1;uint32_tN:1;}b;uint32_tw;}xPSR_Type;#definexPSR_N_Pos31U#definexPSR_N_Msk(1UL<<xPSR_N_Pos)#definexPSR_Z_Pos30U#definexPSR_Z_Msk(1UL<<xPSR_Z_Pos)#definexPSR_C_Pos29U#definexPSR_C_Msk(1UL<<xPSR_C_Pos)#definexPSR_V_Pos28U#definexPSR_V_Msk(1UL<<xPSR_V_Pos)#definexPSR_T_Pos24U#definexPSR_T_Msk(1UL<<xPSR_T_Pos)#definexPSR_ISR_Pos0U#definexPSR_ISR_Msk(0x1FFUL)typedefunion{struct{uint32_t_reserved0:1;uint32_tSPSEL:1;uint32_t_reserved1:30;}b;uint32_tw;}CONTROL_Type;#defineCONTROL_SPSEL_Pos1U#defineCONTROL_SPSEL_Msk(1UL<<CONTROL_SPSEL_Pos)typedefstruct{__IOMuint32_tISER[1U];uint32_tRESERVED0[31U];__IOMuint32_tICER[1U];uint32_tRESERVED1[31U];__IOMuint32_tISPR[1U];uint32_tRESERVED2[31U];__IOMuint32_tICPR[1U];uint32_tRESERVED3[31U];uint32_tRESERVED4[64U];__IOMuint32_tIP[8U];}NVIC_Type;typedefstruct{__IMuint32_tCPUID;__IOMuint32_tICSR;uint32_tRESERVED0;__IOMuint32_tAIRCR;__IOMuint32_tSCR;__IOMuint32_tCCR;uint32_tRESERVED1;__IOMuint32_tSHP[2U];__IOMuint32_tSHCSR;}SCB_Type;#defineSCB_CPUID_IMPLEMENTER_Pos24U#defineSCB_CPUID_IMPLEMENTER_Msk(0xFFUL<<SCB_CPUID_IMPLEMENTER_Pos)#defineSCB_CPUID_VARIANT_Pos20U#defineSCB_CPUID_VARIANT_Msk(0xFUL<<SCB_CPUID_VARIANT_Pos)#defineSCB_CPUID_ARCHITECTURE_Pos16U#defineSCB_CPUID_ARCHITECTURE_Msk(0xFUL<<SCB_CPUID_ARCHITECTURE_Pos)#defineSCB_CPUID_PARTNO_Pos4U#defineSCB_CPUID_PARTNO_Msk(0xFFFUL<<SCB_CPUID_PARTNO_Pos)#defineSCB_CPUID_REVISION_Pos0U#defineSCB_CPUID_REVISION_Msk(0xFUL)#defineSCB_ICSR_NMIPENDSET_Pos31U#defineSCB_ICSR_NMIPENDSET_Msk(1UL<<SCB_ICSR_NMIPENDSET_Pos)#defineSCB_ICSR_PENDSVSET_Pos28U#defineSCB_ICSR_PENDSVSET_Msk(1UL<<SCB_ICSR_PENDSVSET_Pos)#defineSCB_ICSR_PENDSVCLR_Pos27U#defineSCB_ICSR_PENDSVCLR_Msk(1UL<<SCB_ICSR_PENDSVCLR_Pos)#defineSCB_ICSR_PENDSTSET_Pos26U#defineSCB_ICSR_PENDSTSET_Msk(1UL<<SCB_ICSR_PENDSTSET_Pos)#defineSCB_ICSR_PENDSTCLR_Pos25U#defineSCB_ICSR_PENDSTCLR_Msk(1UL<<SCB_ICSR_PENDSTCLR_Pos)#defineSCB_ICSR_ISRPREEMPT_Pos23U#defineSCB_ICSR_ISRPREEMPT_Msk(1UL<<SCB_ICSR_ISRPREEMPT_Pos)#defineSCB_ICSR_ISRPENDING_Pos22U#defineSCB_ICSR_ISRPENDING_Msk(1UL<<SCB_ICSR_ISRPENDING_Pos)#defineSCB_ICSR_VECTPENDING_Pos12U#defineSCB_ICSR_VECTPENDING_Msk(0x1FFUL<<SCB_ICSR_VECTPENDING_Pos)#defineSCB_ICSR_VECTACTIVE_Pos0U#defineSCB_ICSR_VECTACTIVE_Msk(0x1FFUL)#defineSCB_AIRCR_VECTKEY_Pos16U#defineSCB_AIRCR_VECTKEY_Msk(0xFFFFUL<<SCB_AIRCR_VECTKEY_Pos)#defineSCB_AIRCR_VECTKEYSTAT_Pos16U#defineSCB_AIRCR_VECTKEYSTAT_Msk(0xFFFFUL<<SCB_AIRCR_VECTKEYSTAT_Pos)#defineSCB_AIRCR_ENDIANESS_Pos15U#defineSCB_AIRCR_ENDIANESS_Msk(1UL<<SCB_AIRCR_ENDIANESS_Pos)#defineSCB_AIRCR_SYSRESETREQ_Pos2U#defineSCB_AIRCR_SYSRESETREQ_Msk(1UL<<SCB_AIRCR_SYSRESETREQ_Pos)#defineSCB_AIRCR_VECTCLRACTIVE_Pos1U#defineSCB_AIRCR_VECTCLRACTIVE_Msk(1UL<<SCB_AIRCR_VECTCLRACTIVE_Pos)#defineSCB_SCR_SEVONPEND_Pos4U#defineSCB_SCR_SEVONPEND_Msk(1UL<<SCB_SCR_SEVONPEND_Pos)#defineSCB_SCR_SLEEPDEEP_Pos2U#defineSCB_SCR_SLEEPDEEP_Msk(1UL<<SCB_SCR_SLEEPDEEP_Pos)#defineSCB_SCR_SLEEPONEXIT_Pos1U#defineSCB_SCR_SLEEPONEXIT_Msk(1UL<<SCB_SCR_SLEEPONEXIT_Pos)#defineSCB_CCR_STKALIGN_Pos9U#defineSCB_CCR_STKALIGN_Msk(1UL<<SCB_CCR_STKALIGN_Pos)#defineSCB_CCR_UNALIGN_TRP_Pos3U#defineSCB_CCR_UNALIGN_TRP_Msk(1UL<<SCB_CCR_UNALIGN_TRP_Pos)#defineSCB_SHCSR_SVCALLPENDED_Pos15U#defineSCB_SHCSR_SVCALLPENDED_Msk(1UL<<SCB_SHCSR_SVCALLPENDED_Pos)typedefstruct{__IOMuint32_tCTRL;__IOMuint32_tLOAD;__IOMuint32_tVAL;__IMuint32_tCALIB;}SysTick_Type;#defineSysTick_CTRL_COUNTFLAG_Pos16U#defineSysTick_CTRL_COUNTFLAG_Msk(1UL<<SysTick_CTRL_COUNTFLAG_Pos)#defineSysTick_CTRL_CLKSOURCE_Pos2U#defineSysTick_CTRL_CLKSOURCE_Msk(1UL<<SysTick_CTRL_CLKSOURCE_Pos)#defineSysTick_CTRL_TICKINT_Pos1U#defineSysTick_CTRL_TICKINT_Msk(1UL<<SysTick_CTRL_TICKINT_Pos)#defineSysTick_CTRL_ENABLE_Pos0U#defineSysTick_CTRL_ENABLE_Msk(1UL)#defineSysTick_LOAD_RELOAD_Pos0U#defineSysTick_LOAD_RELOAD_Msk(0xFFFFFFUL)#defineSysTick_VAL_CURRENT_Pos0U#defineSysTick_VAL_CURRENT_Msk(0xFFFFFFUL)#defineSysTick_CALIB_NOREF_Pos31U#defineSysTick_CALIB_NOREF_Msk(1UL<<SysTick_CALIB_NOREF_Pos)#defineSysTick_CALIB_SKEW_Pos30U#defineSysTick_CALIB_SKEW_Msk(1UL<<SysTick_CALIB_SKEW_Pos)#defineSysTick_CALIB_TENMS_Pos0U#defineSysTick_CALIB_TENMS_Msk(0xFFFFFFUL)#define_VAL2FLD(field,value)(((uint32_t)(value)<<field##_Pos)&field##_Msk)#define_FLD2VAL(field,value)(((uint32_t)(value)&field##_Msk)>>field##_Pos)#defineSCS_BASE(0xE000E000UL)#defineSysTick_BASE(SCS_BASE+0x0010UL)#defineNVIC_BASE(SCS_BASE+0x0100UL)#defineSCB_BASE(SCS_BASE+0x0D00UL)#defineSCB((SCB_Type*)SCB_BASE)#defineSysTick((SysTick_Type*)SysTick_BASE)#defineNVIC((NVIC_Type*)NVIC_BASE)#ifdefCMSIS_NVIC_VIRTUAL#ifndefCMSIS_NVIC_VIRTUAL_HEADER_FILE#defineCMSIS_NVIC_VIRTUAL_HEADER_FILE"cmsis_nvic_virtual.h"#endif#includeCMSIS_NVIC_VIRTUAL_HEADER_FILE#else#defineNVIC_SetPriorityGrouping__NVIC_SetPriorityGrouping#defineNVIC_GetPriorityGrouping__NVIC_GetPriorityGrouping#defineNVIC_EnableIRQ__NVIC_EnableIRQ#defineNVIC_GetEnableIRQ__NVIC_GetEnableIRQ#defineNVIC_DisableIRQ__NVIC_DisableIRQ#defineNVIC_GetPendingIRQ__NVIC_GetPendingIRQ#defineNVIC_SetPendingIRQ__NVIC_SetPendingIRQ#defineNVIC_ClearPendingIRQ__NVIC_ClearPendingIRQ#defineNVIC_SetPriority__NVIC_SetPriority#defineNVIC_GetPriority__NVIC_GetPriority#defineNVIC_SystemReset__NVIC_SystemReset#endif#ifdefCMSIS_VECTAB_VIRTUAL#ifndefCMSIS_VECTAB_VIRTUAL_HEADER_FILE#defineCMSIS_VECTAB_VIRTUAL_HEADER_FILE"cmsis_vectab_virtual.h"#endif#includeCMSIS_VECTAB_VIRTUAL_HEADER_FILE#else#defineNVIC_SetVector__NVIC_SetVector#defineNVIC_GetVector__NVIC_GetVector#endif#defineNVIC_USER_IRQ_OFFSET16#defineEXC_RETURN_HANDLER(0xFFFFFFF1UL)#defineEXC_RETURN_THREAD_MSP(0xFFFFFFF9UL)#defineEXC_RETURN_THREAD_PSP(0xFFFFFFFDUL)#define_BIT_SHIFT(IRQn)(((((uint32_t)(int32_t)(IRQn)))&0x03UL)*8UL)#define_SHP_IDX(IRQn)((((((uint32_t)(int32_t)(IRQn))&0x0FUL)-8UL)>>2UL))#define_IP_IDX(IRQn)((((uint32_t)(int32_t)(IRQn))>>2UL))#define__NVIC_SetPriorityGrouping(X)(void)(X)#define__NVIC_GetPriorityGrouping()(0U)__STATIC_INLINEvoid__NVIC_EnableIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){__COMPILER_BARRIER();NVIC->ISER[0U]=(uint32_t)(1UL<<(((uint32_t)IRQn)&0x1FUL));__COMPILER_BARRIER();}}__STATIC_INLINEuint32_t__NVIC_GetEnableIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){return((uint32_t)(((NVIC->ISER[0U]&(1UL<<(((uint32_t)IRQn)&0x1FUL)))!=0UL)?1UL:0UL));}else{return(0U);}}__STATIC_INLINEvoid__NVIC_DisableIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){NVIC->ICER[0U]=(uint32_t)(1UL<<(((uint32_t)IRQn)&0x1FUL));__DSB();__ISB();}}__STATIC_INLINEuint32_t__NVIC_GetPendingIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){return((uint32_t)(((NVIC->ISPR[0U]&(1UL<<(((uint32_t)IRQn)&0x1FUL)))!=0UL)?1UL:0UL));}else{return(0U);}}__STATIC_INLINEvoid__NVIC_SetPendingIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){NVIC->ISPR[0U]=(uint32_t)(1UL<<(((uint32_t)IRQn)&0x1FUL));}}__STATIC_INLINEvoid__NVIC_ClearPendingIRQ(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){NVIC->ICPR[0U]=(uint32_t)(1UL<<(((uint32_t)IRQn)&0x1FUL));}}__STATIC_INLINEvoid__NVIC_SetPriority(IRQn_TypeIRQn,uint32_tpriority){if((int32_t)(IRQn)>=0){NVIC->IP[_IP_IDX(IRQn)]=((uint32_t)(NVIC->IP[_IP_IDX(IRQn)]&~(0xFFUL<<_BIT_SHIFT(IRQn)))|(((priority<<(8U-__NVIC_PRIO_BITS))&(uint32_t)0xFFUL)<<_BIT_SHIFT(IRQn)));}else{SCB->SHP[_SHP_IDX(IRQn)]=((uint32_t)(SCB->SHP[_SHP_IDX(IRQn)]&~(0xFFUL<<_BIT_SHIFT(IRQn)))|(((priority<<(8U-__NVIC_PRIO_BITS))&(uint32_t)0xFFUL)<<_BIT_SHIFT(IRQn)));}}__STATIC_INLINEuint32_t__NVIC_GetPriority(IRQn_TypeIRQn){if((int32_t)(IRQn)>=0){return((uint32_t)(((NVIC->IP[_IP_IDX(IRQn)]>>_BIT_SHIFT(IRQn))&(uint32_t)0xFFUL)>>(8U-__NVIC_PRIO_BITS)));}else{return((uint32_t)(((SCB->SHP[_SHP_IDX(IRQn)]>>_BIT_SHIFT(IRQn))&(uint32_t)0xFFUL)>>(8U-__NVIC_PRIO_BITS)));}}__STATIC_INLINEuint32_tNVIC_EncodePriority(uint32_tPriorityGroup,uint32_tPreemptPriority,uint32_tSubPriority){uint32_tPriorityGroupTmp=(PriorityGroup&(uint32_t)0x07UL);uint32_tPreemptPriorityBits;uint32_tSubPriorityBits;PreemptPriorityBits=((7UL-PriorityGroupTmp)>(uint32_t)(__NVIC_PRIO_BITS))?(uint32_t)(__NVIC_PRIO_BITS):(uint32_t)(7UL-PriorityGroupTmp);SubPriorityBits=((PriorityGroupTmp+(uint32_t)(__NVIC_PRIO_BITS))<(uint32_t)7UL)?(uint32_t)0UL:(uint32_t)((PriorityGroupTmp-7UL)+(uint32_t)(__NVIC_PRIO_BITS));return(((PreemptPriority&(uint32_t)((1UL<<(PreemptPriorityBits))-1UL))<<SubPriorityBits)|((SubPriority&(uint32_t)((1UL<<(SubPriorityBits))-1UL))));}__STATIC_INLINEvoidNVIC_DecodePriority(uint32_tPriority,uint32_tPriorityGroup,uint32_t*constpPreemptPriority,uint32_t*constpSubPriority){uint32_tPriorityGroupTmp=(PriorityGroup&(uint32_t)0x07UL);uint32_tPreemptPriorityBits;uint32_tSubPriorityBits;PreemptPriorityBits=((7UL-PriorityGroupTmp)>(uint32_t)(__NVIC_PRIO_BITS))?(uint32_t)(__NVIC_PRIO_BITS):(uint32_t)(7UL-PriorityGroupTmp);SubPriorityBits=((PriorityGroupTmp+(uint32_t)(__NVIC_PRIO_BITS))<(uint32_t)7UL)?(uint32_t)0UL:(uint32_t)((PriorityGroupTmp-7UL)+(uint32_t)(__NVIC_PRIO_BITS));*pPreemptPriority=(Priority>>SubPriorityBits)&(uint32_t)((1UL<<(PreemptPriorityBits))-1UL);*pSubPriority=(Priority)&(uint32_t)((1UL<<(SubPriorityBits))-1UL);}__STATIC_INLINEvoid__NVIC_SetVector(IRQn_TypeIRQn,uint32_tvector){uint32_tvectors=0x0U;(*(int*)(vectors+((int32_t)IRQn+NVIC_USER_IRQ_OFFSET)*4))=vector;}__STATIC_INLINEuint32_t__NVIC_GetVector(IRQn_TypeIRQn){uint32_tvectors=0x0U;return(uint32_t)(*(int*)(vectors+((int32_t)IRQn+NVIC_USER_IRQ_OFFSET)*4));}__NO_RETURN__STATIC_INLINEvoid__NVIC_SystemReset(void){__DSB();SCB->AIRCR=((0x5FAUL<<SCB_AIRCR_VECTKEY_Pos)|SCB_AIRCR_SYSRESETREQ_Msk);__DSB();for(;;){__NOP();}}__STATIC_INLINEuint32_tSCB_GetFPUType(void){return0U;}#ifdefined(__Vendor_SysTickConfig)&&(__Vendor_SysTickConfig==0U)__STATIC_INLINEuint32_tSysTick_Config(uint32_tticks){if((ticks-1UL)>SysTick_LOAD_RELOAD_Msk){return(1UL);}SysTick->LOAD=(uint32_t)(ticks-1UL);NVIC_SetPriority(SysTick_IRQn,(1UL<<__NVIC_PRIO_BITS)-1UL);SysTick->VAL=0UL;SysTick->CTRL=SysTick_CTRL_CLKSOURCE_Msk|SysTick_CTRL_TICKINT_Msk|SysTick_CTRL_ENABLE_Msk;return(0UL);}#endif#ifdef__cplusplus}#endif#endif#endif