#ifndef__CMSIS_ARMCC_H#define__CMSIS_ARMCC_H#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<400677)#error"PleaseuseArmCompilerToolchainV4.0.677orlater!"#endif#if((defined(__TARGET_ARCH_6_M)&&(__TARGET_ARCH_6_M==1))||\(defined(__TARGET_ARCH_6S_M)&&(__TARGET_ARCH_6S_M==1)))#define__ARM_ARCH_6M__1#endif#if(defined(__TARGET_ARCH_7_M)&&(__TARGET_ARCH_7_M==1))#define__ARM_ARCH_7M__1#endif#if(defined(__TARGET_ARCH_7E_M)&&(__TARGET_ARCH_7E_M==1))#define__ARM_ARCH_7EM__1#endif#if((defined(__ARM_ARCH_7EM__)&&(__ARM_ARCH_7EM__==1)))#define__ARM_FEATURE_DSP1#endif#ifndef__ASM#define__ASM__asm#endif#ifndef__INLINE#define__INLINE__inline#endif#ifndef__STATIC_INLINE#define__STATIC_INLINEstatic__inline#endif#ifndef__STATIC_FORCEINLINE#define__STATIC_FORCEINLINEstatic__forceinline#endif#ifndef__NO_RETURN#define__NO_RETURN__declspec(noreturn)#endif#ifndef__USED#define__USED__attribute__((used))#endif#ifndef__WEAK#define__WEAK__attribute__((weak))#endif#ifndef__PACKED#define__PACKED__attribute__((packed))#endif#ifndef__PACKED_STRUCT#define__PACKED_STRUCT__packedstruct#endif#ifndef__PACKED_UNION#define__PACKED_UNION__packedunion#endif#ifndef__UNALIGNED_UINT32#define__UNALIGNED_UINT32(x)(*((__packeduint32_t*)(x)))#endif#ifndef__UNALIGNED_UINT16_WRITE#define__UNALIGNED_UINT16_WRITE(addr,val)((*((__packeduint16_t*)(addr)))=(val))#endif#ifndef__UNALIGNED_UINT16_READ#define__UNALIGNED_UINT16_READ(addr)(*((const__packeduint16_t*)(addr)))#endif#ifndef__UNALIGNED_UINT32_WRITE#define__UNALIGNED_UINT32_WRITE(addr,val)((*((__packeduint32_t*)(addr)))=(val))#endif#ifndef__UNALIGNED_UINT32_READ#define__UNALIGNED_UINT32_READ(addr)(*((const__packeduint32_t*)(addr)))#endif#ifndef__ALIGNED#define__ALIGNED(x)__attribute__((aligned(x)))#endif#ifndef__RESTRICT#define__RESTRICT__restrict#endif#ifndef__COMPILER_BARRIER#define__COMPILER_BARRIER()__memory_changed()#endif#ifndef__PROGRAM_START#define__PROGRAM_START__main#endif#ifndef__INITIAL_SP#define__INITIAL_SPImage$$ARM_LIB_STACK$$ZI$$Limit#endif#ifndef__STACK_LIMIT#define__STACK_LIMITImage$$ARM_LIB_STACK$$ZI$$Base#endif#ifndef__VECTOR_TABLE#define__VECTOR_TABLE__Vectors#endif#ifndef__VECTOR_TABLE_ATTRIBUTE#define__VECTOR_TABLE_ATTRIBUTE__attribute((used,section("RESET")))#endif__STATIC_INLINEuint32_t__get_CONTROL(void){registeruint32_t__regControl__ASM("control");return(__regControl);}__STATIC_INLINEvoid__set_CONTROL(uint32_tcontrol){registeruint32_t__regControl__ASM("control");__regControl=control;}__STATIC_INLINEuint32_t__get_IPSR(void){registeruint32_t__regIPSR__ASM("ipsr");return(__regIPSR);}__STATIC_INLINEuint32_t__get_APSR(void){registeruint32_t__regAPSR__ASM("apsr");return(__regAPSR);}__STATIC_INLINEuint32_t__get_xPSR(void){registeruint32_t__regXPSR__ASM("xpsr");return(__regXPSR);}__STATIC_INLINEuint32_t__get_PSP(void){registeruint32_t__regProcessStackPointer__ASM("psp");return(__regProcessStackPointer);}__STATIC_INLINEvoid__set_PSP(uint32_ttopOfProcStack){registeruint32_t__regProcessStackPointer__ASM("psp");__regProcessStackPointer=topOfProcStack;}__STATIC_INLINEuint32_t__get_MSP(void){registeruint32_t__regMainStackPointer__ASM("msp");return(__regMainStackPointer);}__STATIC_INLINEvoid__set_MSP(uint32_ttopOfMainStack){registeruint32_t__regMainStackPointer__ASM("msp");__regMainStackPointer=topOfMainStack;}__STATIC_INLINEuint32_t__get_PRIMASK(void){registeruint32_t__regPriMask__ASM("primask");return(__regPriMask);}__STATIC_INLINEvoid__set_PRIMASK(uint32_tpriMask){registeruint32_t__regPriMask__ASM("primask");__regPriMask=(priMask);}#if((defined(__ARM_ARCH_7M__)&&(__ARM_ARCH_7M__==1))||\(defined(__ARM_ARCH_7EM__)&&(__ARM_ARCH_7EM__==1)))#define__enable_fault_irq__enable_fiq#define__disable_fault_irq__disable_fiq__STATIC_INLINEuint32_t__get_BASEPRI(void){registeruint32_t__regBasePri__ASM("basepri");return(__regBasePri);}__STATIC_INLINEvoid__set_BASEPRI(uint32_tbasePri){registeruint32_t__regBasePri__ASM("basepri");__regBasePri=(basePri&0xFFU);}__STATIC_INLINEvoid__set_BASEPRI_MAX(uint32_tbasePri){registeruint32_t__regBasePriMax__ASM("basepri_max");__regBasePriMax=(basePri&0xFFU);}__STATIC_INLINEuint32_t__get_FAULTMASK(void){registeruint32_t__regFaultMask__ASM("faultmask");return(__regFaultMask);}__STATIC_INLINEvoid__set_FAULTMASK(uint32_tfaultMask){registeruint32_t__regFaultMask__ASM("faultmask");__regFaultMask=(faultMask&(uint32_t)1U);}#endif__STATIC_INLINEuint32_t__get_FPSCR(void){#if((defined(__FPU_PRESENT)&&(__FPU_PRESENT==1U))&&\(defined(__FPU_USED)&&(__FPU_USED==1U)))registeruint32_t__regfpscr__ASM("fpscr");return(__regfpscr);#elsereturn(0U);#endif}__STATIC_INLINEvoid__set_FPSCR(uint32_tfpscr){#if((defined(__FPU_PRESENT)&&(__FPU_PRESENT==1U))&&\(defined(__FPU_USED)&&(__FPU_USED==1U)))registeruint32_t__regfpscr__ASM("fpscr");__regfpscr=(fpscr);#else(void)fpscr;#endif}#define__NOP__nop#define__WFI__wfi#define__WFE__wfe#define__SEV__sev#define__ISB()do{\__schedule_barrier();\__isb(0xF);\__schedule_barrier();\}while(0U)#define__DSB()do{\__schedule_barrier();\__dsb(0xF);\__schedule_barrier();\}while(0U)#define__DMB()do{\__schedule_barrier();\__dmb(0xF);\__schedule_barrier();\}while(0U)#define__REV__rev#ifndef__NO_EMBEDDED_ASM__attribute__((section(".rev16_text")))__STATIC_INLINE__ASMuint32_t__REV16(uint32_tvalue){rev16r0,r0bxlr}#endif#ifndef__NO_EMBEDDED_ASM__attribute__((section(".revsh_text")))__STATIC_INLINE__ASMint16_t__REVSH(int16_tvalue){revshr0,r0bxlr}#endif#define__ROR__ror#define__BKPT(value)__breakpoint(value)#if((defined(__ARM_ARCH_7M__)&&(__ARM_ARCH_7M__==1))||\(defined(__ARM_ARCH_7EM__)&&(__ARM_ARCH_7EM__==1)))#define__RBIT__rbit#else__attribute__((always_inline))__STATIC_INLINEuint32_t__RBIT(uint32_tvalue){uint32_tresult;uint32_ts=(4U*8U)-1U;result=value;for(value>>=1U;value!=0U;value>>=1U){result<<=1U;result|=value&1U;s--;}result<<=s;returnresult;}#endif#define__CLZ__clz#if((defined(__ARM_ARCH_7M__)&&(__ARM_ARCH_7M__==1))||\(defined(__ARM_ARCH_7EM__)&&(__ARM_ARCH_7EM__==1)))#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__LDREXB(ptr)((uint8_t)__ldrex(ptr))#else#define__LDREXB(ptr)_Pragma("push")_Pragma("diag_suppress3731")((uint8_t)__ldrex(ptr))_Pragma("pop")#endif#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__LDREXH(ptr)((uint16_t)__ldrex(ptr))#else#define__LDREXH(ptr)_Pragma("push")_Pragma("diag_suppress3731")((uint16_t)__ldrex(ptr))_Pragma("pop")#endif#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__LDREXW(ptr)((uint32_t)__ldrex(ptr))#else#define__LDREXW(ptr)_Pragma("push")_Pragma("diag_suppress3731")((uint32_t)__ldrex(ptr))_Pragma("pop")#endif#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__STREXB(value,ptr)__strex(value,ptr)#else#define__STREXB(value,ptr)_Pragma("push")_Pragma("diag_suppress3731")__strex(value,ptr)_Pragma("pop")#endif#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__STREXH(value,ptr)__strex(value,ptr)#else#define__STREXH(value,ptr)_Pragma("push")_Pragma("diag_suppress3731")__strex(value,ptr)_Pragma("pop")#endif#ifdefined(__ARMCC_VERSION)&&(__ARMCC_VERSION<5060020)#define__STREXW(value,ptr)__strex(value,ptr)#else#define__STREXW(value,ptr)_Pragma("push")_Pragma("diag_suppress3731")__strex(value,ptr)_Pragma("pop")#endif#define__CLREX__clrex#define__SSAT__ssat#define__USAT__usat#ifndef__NO_EMBEDDED_ASM__attribute__((section(".rrx_text")))__STATIC_INLINE__ASMuint32_t__RRX(uint32_tvalue){rrxr0,r0bxlr}#endif#define__LDRBT(ptr)((uint8_t)__ldrt(ptr))#define__LDRHT(ptr)((uint16_t)__ldrt(ptr))#define__LDRT(ptr)((uint32_t)__ldrt(ptr))#define__STRBT(value,ptr)__strt(value,ptr)#define__STRHT(value,ptr)__strt(value,ptr)#define__STRT(value,ptr)__strt(value,ptr)#else__attribute__((always_inline))__STATIC_INLINEint32_t__SSAT(int32_tval,uint32_tsat){if((sat>=1U)&&(sat<=32U)){constint32_tmax=(int32_t)((1U<<(sat-1U))-1U);constint32_tmin=-1-max;if(val>max){returnmax;}elseif(val<min){returnmin;}}returnval;}__attribute__((always_inline))__STATIC_INLINEuint32_t__USAT(int32_tval,uint32_tsat){if(sat<=31U){constuint32_tmax=((1U<<sat)-1U);if(val>(int32_t)max){returnmax;}elseif(val<0){return0U;}}return(uint32_t)val;}#endif#if((defined(__ARM_ARCH_7EM__)&&(__ARM_ARCH_7EM__==1)))#define__SADD8__sadd8#define__QADD8__qadd8#define__SHADD8__shadd8#define__UADD8__uadd8#define__UQADD8__uqadd8#define__UHADD8__uhadd8#define__SSUB8__ssub8#define__QSUB8__qsub8#define__SHSUB8__shsub8#define__USUB8__usub8#define__UQSUB8__uqsub8#define__UHSUB8__uhsub8#define__SADD16__sadd16#define__QADD16__qadd16#define__SHADD16__shadd16#define__UADD16__uadd16#define__UQADD16__uqadd16#define__UHADD16__uhadd16#define__SSUB16__ssub16#define__QSUB16__qsub16#define__SHSUB16__shsub16#define__USUB16__usub16#define__UQSUB16__uqsub16#define__UHSUB16__uhsub16#define__SASX__sasx#define__QASX__qasx#define__SHASX__shasx#define__UASX__uasx#define__UQASX__uqasx#define__UHASX__uhasx#define__SSAX__ssax#define__QSAX__qsax#define__SHSAX__shsax#define__USAX__usax#define__UQSAX__uqsax#define__UHSAX__uhsax#define__USAD8__usad8#define__USADA8__usada8#define__SSAT16__ssat16#define__USAT16__usat16#define__UXTB16__uxtb16#define__UXTAB16__uxtab16#define__SXTB16__sxtb16#define__SXTAB16__sxtab16#define__SMUAD__smuad#define__SMUADX__smuadx#define__SMLAD__smlad#define__SMLADX__smladx#define__SMLALD__smlald#define__SMLALDX__smlaldx#define__SMUSD__smusd#define__SMUSDX__smusdx#define__SMLSD__smlsd#define__SMLSDX__smlsdx#define__SMLSLD__smlsld#define__SMLSLDX__smlsldx#define__SEL__sel#define__QADD__qadd#define__QSUB__qsub#define__PKHBT(ARG1,ARG2,ARG3)(((((uint32_t)(ARG1)))&0x0000FFFFUL)|\((((uint32_t)(ARG2))<<(ARG3))&0xFFFF0000UL))#define__PKHTB(ARG1,ARG2,ARG3)(((((uint32_t)(ARG1)))&0xFFFF0000UL)|\((((uint32_t)(ARG2))>>(ARG3))&0x0000FFFFUL))#define__SMMLA(ARG1,ARG2,ARG3)((int32_t)((((int64_t)(ARG1)*(ARG2))+\((int64_t)(ARG3)<<32U))>>32U))#endif#endif