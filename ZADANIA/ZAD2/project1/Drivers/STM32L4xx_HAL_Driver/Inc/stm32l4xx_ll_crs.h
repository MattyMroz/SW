#ifndefSTM32L4xx_LL_CRS_H#defineSTM32L4xx_LL_CRS_H#ifdef__cplusplusextern"C"{#endif#include"stm32l4xx.h"#ifdefined(CRS)#defineLL_CRS_ISR_SYNCOKFCRS_ISR_SYNCOKF#defineLL_CRS_ISR_SYNCWARNFCRS_ISR_SYNCWARNF#defineLL_CRS_ISR_ERRFCRS_ISR_ERRF#defineLL_CRS_ISR_ESYNCFCRS_ISR_ESYNCF#defineLL_CRS_ISR_SYNCERRCRS_ISR_SYNCERR#defineLL_CRS_ISR_SYNCMISSCRS_ISR_SYNCMISS#defineLL_CRS_ISR_TRIMOVFCRS_ISR_TRIMOVF#defineLL_CRS_CR_SYNCOKIECRS_CR_SYNCOKIE#defineLL_CRS_CR_SYNCWARNIECRS_CR_SYNCWARNIE#defineLL_CRS_CR_ERRIECRS_CR_ERRIE#defineLL_CRS_CR_ESYNCIECRS_CR_ESYNCIE#defineLL_CRS_SYNC_DIV_1((uint32_t)0x00U)#defineLL_CRS_SYNC_DIV_2CRS_CFGR_SYNCDIV_0#defineLL_CRS_SYNC_DIV_4CRS_CFGR_SYNCDIV_1#defineLL_CRS_SYNC_DIV_8(CRS_CFGR_SYNCDIV_1|CRS_CFGR_SYNCDIV_0)#defineLL_CRS_SYNC_DIV_16CRS_CFGR_SYNCDIV_2#defineLL_CRS_SYNC_DIV_32(CRS_CFGR_SYNCDIV_2|CRS_CFGR_SYNCDIV_0)#defineLL_CRS_SYNC_DIV_64(CRS_CFGR_SYNCDIV_2|CRS_CFGR_SYNCDIV_1)#defineLL_CRS_SYNC_DIV_128CRS_CFGR_SYNCDIV#defineLL_CRS_SYNC_SOURCE_GPIO((uint32_t)0x00U)#defineLL_CRS_SYNC_SOURCE_LSECRS_CFGR_SYNCSRC_0#defineLL_CRS_SYNC_SOURCE_USBCRS_CFGR_SYNCSRC_1#defineLL_CRS_SYNC_POLARITY_RISING((uint32_t)0x00U)#defineLL_CRS_SYNC_POLARITY_FALLINGCRS_CFGR_SYNCPOL#defineLL_CRS_FREQ_ERROR_DIR_UP((uint32_t)0x00U)#defineLL_CRS_FREQ_ERROR_DIR_DOWN((uint32_t)CRS_ISR_FEDIR)#defineLL_CRS_RELOADVALUE_DEFAULT((uint32_t)0xBB7FU)#defineLL_CRS_ERRORLIMIT_DEFAULT((uint32_t)0x22U)#ifdefined(STM32L412xx)||defined(STM32L422xx)#defineLL_CRS_HSI48CALIBRATION_DEFAULT((uint32_t)64U)#else#defineLL_CRS_HSI48CALIBRATION_DEFAULT((uint32_t)32U)#endif#defineLL_CRS_WriteReg(__INSTANCE__,__REG__,__VALUE__)WRITE_REG(__INSTANCE__->__REG__,(__VALUE__))#defineLL_CRS_ReadReg(__INSTANCE__,__REG__)READ_REG(__INSTANCE__->__REG__)#define__LL_CRS_CALC_CALCULATE_RELOADVALUE(__FTARGET__,__FSYNC__)(((__FTARGET__)/(__FSYNC__))-1U)__STATIC_INLINEvoidLL_CRS_EnableFreqErrorCounter(void){SET_BIT(CRS->CR,CRS_CR_CEN);}__STATIC_INLINEvoidLL_CRS_DisableFreqErrorCounter(void){CLEAR_BIT(CRS->CR,CRS_CR_CEN);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledFreqErrorCounter(void){return(READ_BIT(CRS->CR,CRS_CR_CEN)==(CRS_CR_CEN));}__STATIC_INLINEvoidLL_CRS_EnableAutoTrimming(void){SET_BIT(CRS->CR,CRS_CR_AUTOTRIMEN);}__STATIC_INLINEvoidLL_CRS_DisableAutoTrimming(void){CLEAR_BIT(CRS->CR,CRS_CR_AUTOTRIMEN);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledAutoTrimming(void){return(READ_BIT(CRS->CR,CRS_CR_AUTOTRIMEN)==(CRS_CR_AUTOTRIMEN));}__STATIC_INLINEvoidLL_CRS_SetHSI48SmoothTrimming(uint32_tValue){MODIFY_REG(CRS->CR,CRS_CR_TRIM,Value<<CRS_CR_TRIM_Pos);}__STATIC_INLINEuint32_tLL_CRS_GetHSI48SmoothTrimming(void){return(uint32_t)(READ_BIT(CRS->CR,CRS_CR_TRIM)>>CRS_CR_TRIM_Pos);}__STATIC_INLINEvoidLL_CRS_SetReloadCounter(uint32_tValue){MODIFY_REG(CRS->CFGR,CRS_CFGR_RELOAD,Value);}__STATIC_INLINEuint32_tLL_CRS_GetReloadCounter(void){return(uint32_t)(READ_BIT(CRS->CFGR,CRS_CFGR_RELOAD));}__STATIC_INLINEvoidLL_CRS_SetFreqErrorLimit(uint32_tValue){MODIFY_REG(CRS->CFGR,CRS_CFGR_FELIM,Value<<CRS_CFGR_FELIM_Pos);}__STATIC_INLINEuint32_tLL_CRS_GetFreqErrorLimit(void){return(uint32_t)(READ_BIT(CRS->CFGR,CRS_CFGR_FELIM)>>CRS_CFGR_FELIM_Pos);}__STATIC_INLINEvoidLL_CRS_SetSyncDivider(uint32_tDivider){MODIFY_REG(CRS->CFGR,CRS_CFGR_SYNCDIV,Divider);}__STATIC_INLINEuint32_tLL_CRS_GetSyncDivider(void){return(uint32_t)(READ_BIT(CRS->CFGR,CRS_CFGR_SYNCDIV));}__STATIC_INLINEvoidLL_CRS_SetSyncSignalSource(uint32_tSource){MODIFY_REG(CRS->CFGR,CRS_CFGR_SYNCSRC,Source);}__STATIC_INLINEuint32_tLL_CRS_GetSyncSignalSource(void){return(uint32_t)(READ_BIT(CRS->CFGR,CRS_CFGR_SYNCSRC));}__STATIC_INLINEvoidLL_CRS_SetSyncPolarity(uint32_tPolarity){MODIFY_REG(CRS->CFGR,CRS_CFGR_SYNCPOL,Polarity);}__STATIC_INLINEuint32_tLL_CRS_GetSyncPolarity(void){return(uint32_t)(READ_BIT(CRS->CFGR,CRS_CFGR_SYNCPOL));}__STATIC_INLINEvoidLL_CRS_ConfigSynchronization(uint32_tHSI48CalibrationValue,uint32_tErrorLimitValue,uint32_tReloadValue,uint32_tSettings){MODIFY_REG(CRS->CR,CRS_CR_TRIM,HSI48CalibrationValue<<CRS_CR_TRIM_Pos);MODIFY_REG(CRS->CFGR,CRS_CFGR_RELOAD|CRS_CFGR_FELIM|CRS_CFGR_SYNCDIV|CRS_CFGR_SYNCSRC|CRS_CFGR_SYNCPOL,ReloadValue|(ErrorLimitValue<<CRS_CFGR_FELIM_Pos)|Settings);}__STATIC_INLINEvoidLL_CRS_GenerateEvent_SWSYNC(void){SET_BIT(CRS->CR,CRS_CR_SWSYNC);}__STATIC_INLINEuint32_tLL_CRS_GetFreqErrorDirection(void){return(uint32_t)(READ_BIT(CRS->ISR,CRS_ISR_FEDIR));}__STATIC_INLINEuint32_tLL_CRS_GetFreqErrorCapture(void){return(uint32_t)(READ_BIT(CRS->ISR,CRS_ISR_FECAP)>>CRS_ISR_FECAP_Pos);}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_SYNCOK(void){return(READ_BIT(CRS->ISR,CRS_ISR_SYNCOKF)==(CRS_ISR_SYNCOKF));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_SYNCWARN(void){return(READ_BIT(CRS->ISR,CRS_ISR_SYNCWARNF)==(CRS_ISR_SYNCWARNF));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_ERR(void){return(READ_BIT(CRS->ISR,CRS_ISR_ERRF)==(CRS_ISR_ERRF));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_ESYNC(void){return(READ_BIT(CRS->ISR,CRS_ISR_ESYNCF)==(CRS_ISR_ESYNCF));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_SYNCERR(void){return(READ_BIT(CRS->ISR,CRS_ISR_SYNCERR)==(CRS_ISR_SYNCERR));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_SYNCMISS(void){return(READ_BIT(CRS->ISR,CRS_ISR_SYNCMISS)==(CRS_ISR_SYNCMISS));}__STATIC_INLINEuint32_tLL_CRS_IsActiveFlag_TRIMOVF(void){return(READ_BIT(CRS->ISR,CRS_ISR_TRIMOVF)==(CRS_ISR_TRIMOVF));}__STATIC_INLINEvoidLL_CRS_ClearFlag_SYNCOK(void){WRITE_REG(CRS->ICR,CRS_ICR_SYNCOKC);}__STATIC_INLINEvoidLL_CRS_ClearFlag_SYNCWARN(void){WRITE_REG(CRS->ICR,CRS_ICR_SYNCWARNC);}__STATIC_INLINEvoidLL_CRS_ClearFlag_ERR(void){WRITE_REG(CRS->ICR,CRS_ICR_ERRC);}__STATIC_INLINEvoidLL_CRS_ClearFlag_ESYNC(void){WRITE_REG(CRS->ICR,CRS_ICR_ESYNCC);}__STATIC_INLINEvoidLL_CRS_EnableIT_SYNCOK(void){SET_BIT(CRS->CR,CRS_CR_SYNCOKIE);}__STATIC_INLINEvoidLL_CRS_DisableIT_SYNCOK(void){CLEAR_BIT(CRS->CR,CRS_CR_SYNCOKIE);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledIT_SYNCOK(void){return(READ_BIT(CRS->CR,CRS_CR_SYNCOKIE)==(CRS_CR_SYNCOKIE));}__STATIC_INLINEvoidLL_CRS_EnableIT_SYNCWARN(void){SET_BIT(CRS->CR,CRS_CR_SYNCWARNIE);}__STATIC_INLINEvoidLL_CRS_DisableIT_SYNCWARN(void){CLEAR_BIT(CRS->CR,CRS_CR_SYNCWARNIE);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledIT_SYNCWARN(void){return(READ_BIT(CRS->CR,CRS_CR_SYNCWARNIE)==(CRS_CR_SYNCWARNIE));}__STATIC_INLINEvoidLL_CRS_EnableIT_ERR(void){SET_BIT(CRS->CR,CRS_CR_ERRIE);}__STATIC_INLINEvoidLL_CRS_DisableIT_ERR(void){CLEAR_BIT(CRS->CR,CRS_CR_ERRIE);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledIT_ERR(void){return(READ_BIT(CRS->CR,CRS_CR_ERRIE)==(CRS_CR_ERRIE));}__STATIC_INLINEvoidLL_CRS_EnableIT_ESYNC(void){SET_BIT(CRS->CR,CRS_CR_ESYNCIE);}__STATIC_INLINEvoidLL_CRS_DisableIT_ESYNC(void){CLEAR_BIT(CRS->CR,CRS_CR_ESYNCIE);}__STATIC_INLINEuint32_tLL_CRS_IsEnabledIT_ESYNC(void){return(READ_BIT(CRS->CR,CRS_CR_ESYNCIE)==(CRS_CR_ESYNCIE));}#ifdefined(USE_FULL_LL_DRIVER)ErrorStatusLL_CRS_DeInit(void);#endif#endif#ifdef__cplusplus}#endif#endif